<p>There are two configuration files: one for your analysis, one for describing your samples. Before each run, both of them are validated : their content is verified thanks to the <a href="https://json-schema.org/">json-shcemas</a>.</p>
<h2 id="the-general-config-file-yaml">1. The general config file (yaml)</h2>
<p>This is a <a href="https://en.wikipedia.org/wiki/YAML">yaml</a> file. It could also be <a href="https://en.wikipedia.org/wiki/JSON">json</a> formatted, however its name must not be changed. Yaml format has been preferred since users requested a more human readable configuration file to write.</p>
<p>This configuration file contains the following sections (in any orders):</p>
<h3 id="ref">ref</h3>
<p>This is a very simple section: two values with evident significations. We need two paths, one to the fasta formatted genome sequence, and one other to the gtf formatted genome annotation. By GTF formatted, I mean GTF. No GFF, no GFF3, no GFF2, no GTF.gz, no GTF.bz2, nothing else than GTF. The same goes with the fasta file.</p>
<p>Example:</p>
<pre><code>ref:
  fasta: path/to/fasta.fa
  gtf: /path/to/gtf.gtf</code></pre>
<p>These paths can be either relative or absolute.</p>
<h3 id="params">params</h3>
<p>This section contains additional command line arguments. One for all, <strong>do not try to modify threading options</strong> here. Do not try to modify neither logging, nor temporary directories. These options are al ready handled.</p>
<p>We have the following values:</p>
<p>copy_extra: Extra parameters for bash cp kallisto_index_extra: Extra parameters for kallisto index rule kallisto_quant_extra: Extra parameters for kallisto quant rule</p>
<p>Example:</p>
<pre><code>params:
  copy_extra: &quot;--parents --verbose&quot;
  kallisto_index_extra: &quot;--make-unique&quot;
  kallisto_quant_extra: &quot;--bias --bootstrap-samples=100&quot;</code></pre>
<h3 id="workflow">workflow</h3>
<p>This section is used to activate or deactivate sections of the pipeline. In fact, if you just want to quantify and no quality control (you may have done them aside of the <a href="https://github.com/gustaveroussy/rna-count-kallisto">rna-count-kallisto</a> pipeline), then turn these flag to <code>false</code> instead of <code>true</code>.</p>
<p>Warning, it is case sensitive!</p>
<p>Example:</p>
<pre><code>workflow:
  fastqc: true
  multiqc: true
  aggregate: true</code></pre>
<h3 id="general">General</h3>
<p>The following parameters do not belong to any section, let them be at the top level of the yaml file:</p>
<p>design: The path to the design file workdir: The path to the working directory threads: The maximum number of threads used singularity_docker_image: The image used within singularity cold_storage: A list of cold storage mount points</p>
<p>Example:</p>
<pre><code>design: design.tsv
workdir: .
threads: 1
singularity_docker_image: docker://continuumio/miniconda3:4.4.10
cold_storage:
  - /media</code></pre>
<h3 id="conclusion">Conclusion</h3>
<p>A complete config.yaml file would look like this:</p>
<pre><code>design: design.tsv
workdir: .
threads: 1
singularity_docker_image: docker://continuumio/miniconda3:4.4.10
cold_storage:
  - /media
ref:
  fasta: /path/to/genome/sequence.fa
  gtf: /path/to/genome/annotaton.gtf
workflow:
  fastqc: true
  multiqc: true
  aggregate: true
params:
  copy_extra: &quot;--parents --verbose&quot;
  kallisto_index_extra: &quot;--make-unique&quot;
  kallisto_quant_extra: &quot;--bias --bootstrap-samples=100&quot;</code></pre>
<p>Remember, there is a python script here to build this file from command line!</p>
<h2 id="the-design-file-tsv">2. The design file (tsv)</h2>
<p>At this stage, we need a <a href="https://en.wikipedia.org/wiki/Tab-separated_values">TSV</a> file describing our analysis.</p>
<p>It must contain the following columns:</p>
<ul>
<li>Sample_id: the name of each samples</li>
<li>Upstream_file: path to the upstream fastq file</li>
</ul>
<p>The optional columns are:</p>
<ul>
<li>Downstream_file: path to downstream fastq files (usually your R2 in paired-end libraries)</li>
<li>Any other information</li>
</ul>
<p>Remember, there is a python script here to build this file from command line!</p>
